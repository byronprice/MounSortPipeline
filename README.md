# MounSortPipeline
Processing pipeline for single-unit EPHYS recordings using a plexon system and MountainSort.


## Pipeline Usage
For a given .plx file (after recording single units in a given recording session, preferrably with tetrodes), run plx2mda.m . This file will use the .plx data to create a new folder with the same name as the .plx file (minus the .plx). The folder will contain one .mda file for each n-trode, which are used by MountainSort for spike sorting. In addition, in the original directory, a -mda.mat file will be created that will be used later to convert the pseudo event times spit out by MountainSort back to experimental time. Once plx2mda has been run on all of the recordings, then you can use BatchRun.sh to go through all of the recording sessions en masse. If you want to go one-by-one, so you can curate the results, then check out BatchRun.sh to see how it's done. Briefly, you run a MountainSort processing pipeline, with specified parameters on each of firings*.mda files. Next, you run firingsmda2mat.m from inside the directory with all of the resulting .mda files. This will collect all of the sorted units from that one recording session into a -mounsort.mat file, back in the original Plexon format (with variables like allts, etc.). Finally, MounSortCompileData will collect all of the units across many recording sessions and neatly arrange the data in a MATLAB structure.
